NEW YORK  A federal judge upheld most of New York state's tough gun-control law on Tuesday, but struck down a provision that limits the number of bullets in a weapon to seven.

The New York Safe Act, approved in January 2012, expanded the state's assault weapons ban to include semi-automatic weapons with characteristics of assault weapons, added background-check requirements and put limits on ammunition.

The law, which was approved one month after a mass shooting at a Connecticut elementary school that killed 20 children and six adults and forced a national discussion about gun rights, was one of the toughest gun control laws in the country.

U.S. District Judge William Skretny, a federal judge in Buffalo, rejected the claim brought by the New York State Rifle and Pistol Association in a lawsuit filed in April that the law violated the second amendment right to bear arms.

But Skretny also found that the seven-round limit was arbitrary.

A spokesman for New York Governor Andrew Cuomo, a Democrat, did not immediately respond to a request for comment.

At the bill-signing ceremony in January, Cuomo said it was nonsensical to permit the use of high-capacity magazines that could give killers the ability to fire multiple rounds in quick succession.

"Let's at least be able to say to people, yes, we went through terrible situations, but we saw, we learned, we responded, and we acted," Cuomo said at the time.

But the law infuriated gun rights advocates. The National Rifle Association, the country's leading gun rights organization, called the law "draconian."

On December 14, 2012, a 20-year-old gunman opened fire at Newtown, Connecticut's Sandy Hook Elementary School in one of the worst mass shootings in U.S. history.

After the massacre, President Barack Obama proposed a package of new gun controls, including an expansion of federal background checks, but that effort failed in the U.S. Senate in April.